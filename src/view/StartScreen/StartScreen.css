.start-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 2000;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background-color: transparent; /* 改为透明，允许看到底层 */
  pointer-events: auto;
}

/* 帷幕开启后的背景渐变遮罩 */
.start-screen::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #000;
  opacity: 0;
  transition: opacity 1.5s ease;
  pointer-events: none;
  z-index: 5; /* 在内容之上，但在帷幕和按钮之下 */
}

.start-screen.started::before {
  opacity: 0; /* 最终全透明 */
}

/* 未开始时，背景是全黑的（或者你可以让它半透，但我建议初始全黑） */
.start-screen:not(.started) {
  background-color: rgba(0, 0, 0, 0.5); /* 降低初始遮罩，让玩家能隐约看到后面的法庭 */
}

.start-screen.started {
  pointer-events: none; /* 允许点击底层内容 */
  background-color: transparent;
  transition: background-color 1.5s ease;
}

/* 帷幕容器 */
.curtain-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
}

/* 左右两片帷幕 */
.curtain-left, .curtain-right {
  flex: 1;
  height: 100%;
  background: linear-gradient(to right, 
    #8b0000 0%, 
    #a52a2a 10%, 
    #8b0000 20%, 
    #a52a2a 30%, 
    #8b0000 40%, 
    #a52a2a 50%, 
    #8b0000 60%, 
    #a52a2a 70%, 
    #8b0000 80%, 
    #a52a2a 90%, 
    #8b0000 100%
  );
  box-shadow: inset 0 0 100px rgba(0,0,0,0.5);
  transition: transform 1.5s cubic-bezier(0.7, 0, 0.3, 1);
  position: relative;
}

/* 金色流苏效果 */
.curtain-left::after, .curtain-right::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 25px; /* 稍微加高一点，更有质感 */
  /* 使用与帷幕同步的重复线性渐变，模拟丝线光泽 */
  background: repeating-linear-gradient(to right,
    #ffd700 0%,
    #b8860b 5%,
    #ffd700 10%
  );
  /* 叠加一个半透明的阴影渐变，使流苏的深浅与帷幕褶皱的光影同步 */
  background-image: 
    linear-gradient(to right, 
      rgba(0,0,0,0.3) 0%, 
      transparent 10%, 
      rgba(0,0,0,0.3) 20%, 
      transparent 30%, 
      rgba(0,0,0,0.3) 40%, 
      transparent 50%, 
      rgba(0,0,0,0.3) 60%, 
      transparent 70%, 
      rgba(0,0,0,0.3) 80%, 
      transparent 90%, 
      rgba(0,0,0,0.3) 100%
    ),
    repeating-linear-gradient(to right,
      #ffd700 0px,
      #ffd700 2px,
      #b8860b 4px
    );
  border-top: 2px solid #b8860b;
  box-shadow: 0 -5px 10px rgba(0,0,0,0.3); /* 给流苏顶部加一点点阴影，增加垂坠感 */
}

/* 帷幕拉开状态 */
.start-screen.started .curtain-left {
  transform: translateX(-100%);
}
.start-screen.started .curtain-right {
  transform: translateX(100%);
}

/* 中心交互区域 */
.start-content {
  position: relative;
  z-index: 2100;
  text-align: center;
  color: #fff;
  transition: opacity 0.5s ease;
}

.start-screen.started .start-content {
  opacity: 0;
  pointer-events: none;
}

.gavel-icon-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 20px;
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  position: relative;
}

.gavel-icon-btn img {
  width: 200px;
  height: 200px;
  filter: drop-shadow(0 0 15px rgba(255, 179, 0, 0.6));
}

.gavel-icon-btn:hover:not(:disabled) {
  transform: scale(1.05) rotate(-5deg);
}

.gavel-icon-btn:active:not(:disabled) {
  transform: scale(0.9);
}

.gavel-icon-btn:disabled {
  cursor: wait;
  opacity: 0.7;
}

/* 刺绣容器定位 */
.embroidery-container {
  position: absolute;
  top: 10%; /* 稍微向上挪一点，给大字腾空间 */
  width: 2000px; /* 容器宽度大幅增加 */
  height: 400px; /* 高度大幅增加 */
  overflow: hidden;
  pointer-events: none;
}

.embroidery-container.left {
  right: 0;
}

.embroidery-container.right {
  left: 0;
}

/* SVG 样式 */
.embroidery-svg {
  width: 2000px;
  height: 100%;
  position: absolute;
}

.embroidery-container.left .embroidery-svg {
  right: -1000px; /* 将文字中心对准中缝 (2000/2) */
}

.embroidery-container.right .embroidery-svg {
  left: -1000px; /* 将文字中心对准中缝 (2000/2) */
}

/* 文字细节 */
.embroidery-text {
  font-family: 'STKaiti', 'KaiTi', serif;
  font-size: 220px; /* 翻倍：从 60px 到 120px */
  font-weight: bold;
  fill: url(#goldGradient);
  filter: url(#embroidery-filter);
  letter-spacing: 30px; /* 间距也相应翻倍，保持比例 */
  text-shadow: 
    2px 2px 0px rgba(0,0,0,0.5), /* 投影也稍微加重 */
    -1px -1px 0px rgba(255,255,255,0.1);
}

.start-screen.started .embroidery-container {
  opacity: 0.8; /* 拉开时稍微变淡，增加动感 */
  transition: opacity 1s ease;
}

/* 火漆印章按钮 */
.seal-button-container {
  position: absolute;
  right: 100px;
  bottom: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 2200;
}

.seal-button {
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: transform 0.3s ease;
  padding: 15px;
}

.seal-button:hover {
  transform: scale(1.1) rotate(5deg);
}

.seal-icon {
  width: 70px;
  height: 70px;
  background-color: #4a2c2a; /* 深木色/火漆色 */
  border: 4px solid #3a1c1a;
  border-radius: 50%;
  color: #e0c097;
  font-family: 'STKaiti', 'KaiTi', serif;
  font-size: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 
    inset 0 0 15px rgba(0,0,0,0.6),
    3px 3px 10px rgba(0,0,0,0.5);
  position: relative;
  overflow: hidden;
}

/* 火漆不规则边缘模拟 */
.seal-icon::after {
  content: '';
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  border: 8px solid rgba(74, 44, 42, 0.4);
  border-radius: 48%;
  pointer-events: none;
}

.seal-text {
  margin-top: 10px;
  font-family: 'SimSun', serif;
  font-size: 0.9rem;
  color: #e0c097;
  opacity: 0.7;
  letter-spacing: 1px;
}

/* 复古确认弹窗 */
.vintage-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0,0,0,0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 3000;
  backdrop-filter: blur(5px);
}

.vintage-modal {
  width: 450px;
  padding: 40px;
  background: #f4e4bc; /* 宣纸色 */
  background-image: url('assets/textures/wood-pattern.png'); /* 复用纹理增强质感 */
  border: 12px double #8b4513;
  box-shadow: 0 20px 50px rgba(0,0,0,0.8);
  position: relative;
}

.modal-paper {
  text-align: center;
  color: #3e2723;
}

.modal-paper h3 {
  font-family: 'STKaiti', 'KaiTi', serif;
  font-size: 1.8rem;
  margin-top: 0;
  color: #8b0000;
  border-bottom: 2px solid #8b4513;
  padding-bottom: 15px;
}

.modal-paper p {
  font-family: 'SimSun', serif;
  line-height: 1.8;
  margin: 25px 0;
  font-size: 1.1rem;
}

.modal-actions {
  display: flex;
  gap: 20px;
  justify-content: center;
}

.modal-btn {
  padding: 10px 25px;
  font-family: 'SimSun', serif;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  border: 2px solid #8b4513;
  transition: all 0.2s;
}

.modal-btn.confirm {
  background: #8b0000;
  color: #fff;
}

.modal-btn.confirm:hover {
  background: #a00000;
  box-shadow: 0 0 15px rgba(139, 0, 0, 0.4);
}

.modal-btn.cancel {
  background: #d2b48c;
  color: #3e2723;
}

.modal-btn.cancel:hover {
  background: #e2c49c;
}

/* 按钮文字 */
.start-btn-text {
  display: block;
  margin-top: 15px;
  font-size: 1.8rem;
  font-family: 'SimSun', serif;
  font-weight: bold;
  letter-spacing: 4px;
  color: #ffb300;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
}

.loading-status {
  margin-top: 10px;
  font-size: 0.9rem;
  color: #e0c097;
  font-family: 'SimSun', serif;
  height: 1.2rem;
}

/* 法槌旋转动画 (加载中) */
.gavel-icon-btn.loading img {
  animation: spin 2s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
